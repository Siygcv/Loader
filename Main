-- Best Hub | UI Library Rework - Modern Green Theme
-- Nettoyage de l'ancienne instance
if (game:GetService("CoreGui")):FindFirstChild("Best Hub") and (game:GetService("CoreGui")):FindFirstChild("ScreenGui") then
	(game:GetService("CoreGui")).NoxHub:Destroy()
	(game:GetService("CoreGui")).ScreenGui:Destroy()
end

-- Palette de couleurs moderne (vert néon)
_G.Primary   = Color3.fromRGB(30, 30, 32)       -- Fond des éléments
_G.Dark      = Color3.fromRGB(15, 15, 17)        -- Fond principal
_G.Third     = Color3.fromRGB(0, 220, 110)       -- Vert néon principal
_G.ThirdDim  = Color3.fromRGB(0, 140, 70)        -- Vert plus sombre (hover/accent)

-- ─── Utilitaire UICorner ─────────────────────────────────────────────────────
local function CreateRounded(Parent, Size)
	local c = Instance.new("UICorner")
	c.Name          = "Rounded"
	c.CornerRadius  = UDim.new(0, Size)
	c.Parent        = Parent
end

-- ─── Services ────────────────────────────────────────────────────────────────
local UserInputService = game:GetService("UserInputService")
local TweenService     = game:GetService("TweenService")
local RunService       = game:GetService("RunService")
local TextService      = game:GetService("TextService")
local HttpService      = game:GetService("HttpService")
local Players          = game:GetService("Players")
local LocalPlayer      = Players.LocalPlayer

-- ─── Draggable ───────────────────────────────────────────────────────────────
local function MakeDraggable(topbarobject, object)
	local Dragging      = false
	local DragInput     = nil
	local DragStart     = nil
	local StartPosition = nil

	local function Update(input)
		local Delta = input.Position - DragStart
		local pos   = UDim2.new(
			StartPosition.X.Scale, StartPosition.X.Offset + Delta.X,
			StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y
		)
		TweenService:Create(object, TweenInfo.new(0.12, Enum.EasingStyle.Quad), { Position = pos }):Play()
	end

	topbarobject.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			Dragging        = true
			DragStart       = input.Position
			StartPosition   = object.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)

	topbarobject.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement
		or input.UserInputType == Enum.UserInputType.Touch then
			DragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == DragInput and Dragging then
			Update(input)
		end
	end)
end

-- ─── Bouton icône flottant (toggle GUI) ──────────────────────────────────────
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent          = game.CoreGui
ScreenGui.ZIndexBehavior  = Enum.ZIndexBehavior.Sibling

local OutlineButton = Instance.new("Frame")
OutlineButton.Name                 = "OutlineButton"
OutlineButton.Parent               = ScreenGui
OutlineButton.ClipsDescendants     = true
OutlineButton.BackgroundColor3     = _G.Dark
OutlineButton.BackgroundTransparency = 0
OutlineButton.Position             = UDim2.new(0, 12, 0, 12)
OutlineButton.Size                 = UDim2.new(0, 48, 0, 48)
CreateRounded(OutlineButton, 14)

-- Bordure lumineuse verte
local OutlineBtnStroke = Instance.new("UIStroke")
OutlineBtnStroke.Color       = _G.Third
OutlineBtnStroke.Thickness   = 1.5
OutlineBtnStroke.Transparency = 0.4
OutlineBtnStroke.Parent      = OutlineButton

local ImageButton = Instance.new("ImageButton")
ImageButton.Parent               = OutlineButton
ImageButton.Position             = UDim2.new(0.5, 0, 0.5, 0)
ImageButton.Size                 = UDim2.new(0, 38, 0, 38)
ImageButton.AnchorPoint          = Vector2.new(0.5, 0.5)
ImageButton.BackgroundColor3     = _G.Dark
ImageButton.ImageColor3          = Color3.fromRGB(240, 240, 240)
ImageButton.ImageTransparency    = 0
ImageButton.BackgroundTransparency = 0
ImageButton.Image                = "rbxassetid://13940080072"
ImageButton.AutoButtonColor      = false
CreateRounded(ImageButton, 11)
MakeDraggable(ImageButton, OutlineButton)

-- Hover effet
ImageButton.MouseEnter:Connect(function()
	TweenService:Create(OutlineBtnStroke, TweenInfo.new(0.2), { Transparency = 0 }):Play()
	TweenService:Create(ImageButton, TweenInfo.new(0.2), { ImageColor3 = _G.Third }):Play()
end)
ImageButton.MouseLeave:Connect(function()
	TweenService:Create(OutlineBtnStroke, TweenInfo.new(0.2), { Transparency = 0.4 }):Play()
	TweenService:Create(ImageButton, TweenInfo.new(0.2), { ImageColor3 = Color3.fromRGB(240, 240, 240) }):Play()
end)

ImageButton.MouseButton1Click:connect(function()
	local gui = game.CoreGui:FindFirstChild("Best Hub")
	if gui then gui.Enabled = not gui.Enabled end
end)

-- ─── Notifications ───────────────────────────────────────────────────────────
local NotificationFrame = Instance.new("ScreenGui")
NotificationFrame.Name            = "NotificationFrame"
NotificationFrame.Parent          = game.CoreGui
NotificationFrame.ZIndexBehavior  = Enum.ZIndexBehavior.Global

local NotificationList = {}

local function RemoveOldestNotification()
	if #NotificationList > 0 then
		local removed = table.remove(NotificationList, 1)
		removed[1]:TweenPosition(UDim2.new(0.5, 0, -0.2, 0), "Out", "Quad", 0.4, true, function()
			removed[1]:Destroy()
		end)
	end
end

spawn(function()
	while wait() do
		if #NotificationList > 0 then
			wait(2.5)
			RemoveOldestNotification()
		end
	end
end)

-- ─── Update (objet principal retourné) ───────────────────────────────────────
local Update = {}

function Update:Notify(desc)
	local OutlineFrame = Instance.new("Frame")
	OutlineFrame.Name                  = "OutlineFrame"
	OutlineFrame.Parent                = NotificationFrame
	OutlineFrame.ClipsDescendants      = true
	OutlineFrame.BackgroundColor3      = Color3.fromRGB(20, 20, 22)
	OutlineFrame.AnchorPoint           = Vector2.new(0.5, 1)
	OutlineFrame.BackgroundTransparency = 0.15
	OutlineFrame.Position              = UDim2.new(0.5, 0, -0.2, 0)
	OutlineFrame.Size                  = UDim2.new(0, 380, 0, 68)
	CreateRounded(OutlineFrame, 14)

	local notifStroke = Instance.new("UIStroke")
	notifStroke.Color      = _G.Third
	notifStroke.Thickness  = 1
	notifStroke.Transparency = 0.5
	notifStroke.Parent     = OutlineFrame

	-- Barre verte à gauche
	local AccentBar = Instance.new("Frame")
	AccentBar.Name              = "AccentBar"
	AccentBar.Parent            = OutlineFrame
	AccentBar.BackgroundColor3  = _G.Third
	AccentBar.BorderSizePixel   = 0
	AccentBar.Size              = UDim2.new(0, 3, 1, 0)
	AccentBar.Position          = UDim2.new(0, 0, 0, 0)
	CreateRounded(AccentBar, 2)

	local Frame = Instance.new("Frame")
	Frame.Name                  = "Frame"
	Frame.Parent                = OutlineFrame
	Frame.ClipsDescendants      = true
	Frame.AnchorPoint           = Vector2.new(0, 0)
	Frame.BackgroundTransparency = 1
	Frame.Position              = UDim2.new(0, 10, 0, 0)
	Frame.Size                  = UDim2.new(1, -10, 1, 0)

	local Image = Instance.new("ImageLabel")
	Image.Name                  = "Icon"
	Image.Parent                = Frame
	Image.BackgroundTransparency = 1
	Image.Position              = UDim2.new(0, 8, 0.5, 0)
	Image.AnchorPoint           = Vector2.new(0, 0.5)
	Image.Size                  = UDim2.new(0, 36, 0, 36)
	Image.Image                 = "rbxassetid://13940080072"
	Image.ImageColor3           = _G.Third

	local Title = Instance.new("TextLabel")
	Title.Parent                = Frame
	Title.BackgroundTransparency = 1
	Title.Position              = UDim2.new(0, 52, 0, 10)
	Title.Size                  = UDim2.new(1, -60, 0, 20)
	Title.Font                  = Enum.Font.GothamBold
	Title.Text                  = "Best Hub"
	Title.TextColor3            = Color3.fromRGB(255, 255, 255)
	Title.TextSize              = 14
	Title.TextXAlignment        = Enum.TextXAlignment.Left

	local Desc = Instance.new("TextLabel")
	Desc.Parent                 = Frame
	Desc.BackgroundTransparency = 1
	Desc.Position               = UDim2.new(0, 52, 0, 32)
	Desc.Size                   = UDim2.new(1, -60, 0, 24)
	Desc.Font                   = Enum.Font.GothamMedium
	Desc.TextTransparency       = 0.2
	Desc.Text                   = desc
	Desc.TextColor3             = Color3.fromRGB(180, 255, 200)
	Desc.TextSize               = 12
	Desc.TextXAlignment         = Enum.TextXAlignment.Left

	OutlineFrame:TweenPosition(
		UDim2.new(0.5, 0, 0.08 + (#NotificationList) * 0.09, 0),
		"Out", "Quad", 0.35, true
	)
	table.insert(NotificationList, { OutlineFrame })
end

-- ─── Loader ──────────────────────────────────────────────────────────────────
function Update:StartLoad()
	local Loader = Instance.new("ScreenGui")
	Loader.Parent          = game.CoreGui
	Loader.ZIndexBehavior  = Enum.ZIndexBehavior.Global
	Loader.DisplayOrder    = 1000

	local LoaderFrame = Instance.new("Frame")
	LoaderFrame.Name                  = "LoaderFrame"
	LoaderFrame.Parent                = Loader
	LoaderFrame.ClipsDescendants      = true
	LoaderFrame.BackgroundColor3      = Color3.fromRGB(8, 8, 10)
	LoaderFrame.BackgroundTransparency = 0
	LoaderFrame.AnchorPoint           = Vector2.new(0.5, 0.5)
	LoaderFrame.Position              = UDim2.new(0.5, 0, 0.5, 0)
	LoaderFrame.Size                  = UDim2.new(1.5, 0, 1.5, 0)
	LoaderFrame.BorderSizePixel       = 0

	local MainLoaderFrame = Instance.new("Frame")
	MainLoaderFrame.Name                  = "MainLoaderFrame"
	MainLoaderFrame.Parent                = LoaderFrame
	MainLoaderFrame.ClipsDescendants      = true
	MainLoaderFrame.BackgroundColor3      = Color3.fromRGB(8, 8, 10)
	MainLoaderFrame.BackgroundTransparency = 0
	MainLoaderFrame.AnchorPoint           = Vector2.new(0.5, 0.5)
	MainLoaderFrame.Position              = UDim2.new(0.5, 0, 0.5, 0)
	MainLoaderFrame.Size                  = UDim2.new(0.4, 0, 0.4, 0)
	MainLoaderFrame.BorderSizePixel       = 0

	-- Logo
	local LogoLabel = Instance.new("ImageLabel")
	LogoLabel.Parent               = MainLoaderFrame
	LogoLabel.BackgroundTransparency = 1
	LogoLabel.AnchorPoint          = Vector2.new(0.5, 0.5)
	LogoLabel.Position             = UDim2.new(0.5, 0, 0.22, 0)
	LogoLabel.Size                 = UDim2.new(0, 50, 0, 50)
	LogoLabel.Image                = "rbxassetid://13940080072"
	LogoLabel.ImageColor3          = _G.Third

	local TitleLoader = Instance.new("TextLabel")
	TitleLoader.Parent               = MainLoaderFrame
	TitleLoader.Text                 = "Best Hub"
	TitleLoader.Font                 = Enum.Font.GothamBold
	TitleLoader.TextSize             = 42
	TitleLoader.TextColor3           = Color3.fromRGB(255, 255, 255)
	TitleLoader.BackgroundTransparency = 1
	TitleLoader.AnchorPoint          = Vector2.new(0.5, 0.5)
	TitleLoader.Position             = UDim2.new(0.5, 0, 0.48, 0)
	TitleLoader.Size                 = UDim2.new(0.9, 0, 0.18, 0)
	TitleLoader.TextTransparency     = 0

	-- Trait décoratif vert
	local TitleLine = Instance.new("Frame")
	TitleLine.Parent             = MainLoaderFrame
	TitleLine.AnchorPoint        = Vector2.new(0.5, 0)
	TitleLine.Position           = UDim2.new(0.5, 0, 0.57, 0)
	TitleLine.Size               = UDim2.new(0.3, 0, 0, 2)
	TitleLine.BackgroundColor3   = _G.Third
	TitleLine.BorderSizePixel    = 0
	CreateRounded(TitleLine, 2)

	local DescriptionLoader = Instance.new("TextLabel")
	DescriptionLoader.Parent               = MainLoaderFrame
	DescriptionLoader.Text                 = "Chargement..."
	DescriptionLoader.Font                 = Enum.Font.GothamMedium
	DescriptionLoader.TextSize             = 13
	DescriptionLoader.TextColor3           = Color3.fromRGB(160, 160, 160)
	DescriptionLoader.BackgroundTransparency = 1
	DescriptionLoader.AnchorPoint          = Vector2.new(0.5, 0.5)
	DescriptionLoader.Position             = UDim2.new(0.5, 0, 0.70, 0)
	DescriptionLoader.Size                 = UDim2.new(0.8, 0, 0.12, 0)
	DescriptionLoader.TextTransparency     = 0

	local LoadingBarBg = Instance.new("Frame")
	LoadingBarBg.Parent               = MainLoaderFrame
	LoadingBarBg.BackgroundColor3     = Color3.fromRGB(35, 35, 38)
	LoadingBarBg.AnchorPoint          = Vector2.new(0.5, 0.5)
	LoadingBarBg.Position             = UDim2.new(0.5, 0, 0.83, 0)
	LoadingBarBg.Size                 = UDim2.new(0.7, 0, 0, 5)
	LoadingBarBg.ClipsDescendants     = true
	LoadingBarBg.BorderSizePixel      = 0
	LoadingBarBg.ZIndex               = 2
	CreateRounded(LoadingBarBg, 20)

	local LoadingBar = Instance.new("Frame")
	LoadingBar.Parent             = LoadingBarBg
	LoadingBar.BackgroundColor3   = _G.Third
	LoadingBar.Size               = UDim2.new(0, 0, 1, 0)
	LoadingBar.ZIndex             = 3
	LoadingBar.BorderSizePixel    = 0
	CreateRounded(LoadingBar, 20)

	-- Glow derrière la barre
	local BarGlow = Instance.new("UIGradient")
	BarGlow.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, _G.Third),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 255, 150)),
	})
	BarGlow.Parent = LoadingBar

	local tweenSvc     = game:GetService("TweenService")
	local dotCount     = 0
	local running      = true

	local barPart1 = tweenSvc:Create(LoadingBar, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { Size = UDim2.new(0.3, 0, 1, 0) })
	local barPart2 = tweenSvc:Create(LoadingBar, TweenInfo.new(0.9, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { Size = UDim2.new(1, 0, 1, 0) })
	barPart1:Play()

	function Update:Loaded()
		barPart2:Play()
	end

	barPart1.Completed:Connect(function()
		running = true
		barPart2.Completed:Connect(function()
			running = false
			DescriptionLoader.Text     = "Chargé !"
			DescriptionLoader.TextColor3 = _G.Third
			wait(0.7)
			-- Fade out
			TweenService:Create(LoaderFrame, TweenInfo.new(0.5), { BackgroundTransparency = 1 }):Play()
			TweenService:Create(MainLoaderFrame, TweenInfo.new(0.5), { BackgroundTransparency = 1 }):Play()
			wait(0.55)
			Loader:Destroy()
		end)
	end)

	spawn(function()
		local dots = { ".", "..", "..." }
		local i = 1
		while running do
			DescriptionLoader.Text = "Veuillez patienter" .. dots[i]
			i = (i % #dots) + 1
			wait(0.45)
		end
	end)
end

-- ─── Config / Save ───────────────────────────────────────────────────────────
local SettingsLib = {
	SaveSettings  = true,
	LoadAnimation = true,
}

;(getgenv()).LoadConfig = function()
	if readfile and writefile and isfile and isfolder then
		if not isfolder("Best Hub") then makefolder("Best Hub") end
		if not isfolder("NoxHub/Library/") then makefolder("NoxHub/Library/") end
		local path = "NoxHub/Library/" .. LocalPlayer.Name .. ".json"
		if not isfile(path) then
			writefile(path, HttpService:JSONEncode(SettingsLib))
		else
			local ok, decoded = pcall(HttpService.JSONDecode, HttpService, readfile(path))
			if ok then
				for i, v in pairs(decoded) do SettingsLib[i] = v end
			end
		end
		print("Library Loaded!")
	else
		warn("Status : Undetected Executor")
	end
end

;(getgenv()).SaveConfig = function()
	if readfile and writefile and isfile and isfolder then
		local path = "NoxHub/Library/" .. LocalPlayer.Name .. ".json"
		if not isfile(path) then
			(getgenv()).LoadConfig()
		else
			local arr = {}
			for i, v in pairs(SettingsLib) do arr[i] = v end
			writefile(path, HttpService:JSONEncode(arr))
		end
	else
		warn("Status : Undetected Executor")
	end
end

;(getgenv()).LoadConfig()

function Update:SaveSettings()
	return SettingsLib.SaveSettings == true
end
function Update:LoadAnimation()
	return SettingsLib.LoadAnimation == true
end

-- ─────────────────────────────────────────────────────────────────────────────
--  WINDOW
-- ─────────────────────────────────────────────────────────────────────────────
function Update:Window(Config)
	assert(Config.SubTitle, "v4")

	local WindowConfig = {
		Size     = Config.Size,
		TabWidth = Config.TabWidth,
	}

	local osfunc      = {}
	local uihide      = false
	local abc         = false
	local currentpage = ""
	local keybind     = keybind or Enum.KeyCode.RightControl
	local yoo         = string.gsub(tostring(keybind), "Enum.KeyCode.", "")

	-- ── ScreenGui principal ──────────────────────────────────────────────────
	local NoxHub = Instance.new("ScreenGui")
	NoxHub.Name          = "Best Hub"
	NoxHub.Parent        = game.CoreGui
	NoxHub.DisplayOrder  = 999

	-- ── Cadre extérieur (bordure) ────────────────────────────────────────────
	local OutlineMain = Instance.new("Frame")
	OutlineMain.Name                  = "OutlineMain"
	OutlineMain.Parent                = NoxHub
	OutlineMain.ClipsDescendants      = true
	OutlineMain.AnchorPoint           = Vector2.new(0.5, 0.5)
	OutlineMain.BackgroundColor3      = Color3.fromRGB(22, 22, 24)
	OutlineMain.BackgroundTransparency = 0.25
	OutlineMain.Position              = UDim2.new(0.5, 0, 0.45, 0)
	OutlineMain.Size                  = UDim2.new(0, 0, 0, 0)
	CreateRounded(OutlineMain, 16)

	local MainStroke = Instance.new("UIStroke")
	MainStroke.Color       = _G.Third
	MainStroke.Thickness   = 1.2
	MainStroke.Transparency = 0.65
	MainStroke.Parent      = OutlineMain

	-- ── Cadre principal ──────────────────────────────────────────────────────
	local Main = Instance.new("Frame")
	Main.Name                  = "Main"
	Main.Parent                = OutlineMain
	Main.ClipsDescendants      = true
	Main.AnchorPoint           = Vector2.new(0.5, 0.5)
	Main.BackgroundColor3      = Color3.fromRGB(18, 18, 20)
	Main.BackgroundTransparency = 0
	Main.Position              = UDim2.new(0.5, 0, 0.5, 0)
	Main.Size                  = WindowConfig.Size
	CreateRounded(Main, 13)

	OutlineMain:TweenSize(
		UDim2.new(0, WindowConfig.Size.X.Offset + 14, 0, WindowConfig.Size.Y.Offset + 14),
		"Out", "Quad", 0.4, true
	)

	-- ── Bouton resize (coin bas-droit) ────────────────────────────────────────
	local DragButton = Instance.new("Frame")
	DragButton.Name                  = "DragButton"
	DragButton.Parent                = Main
	DragButton.Position              = UDim2.new(1, 5, 1, 5)
	DragButton.AnchorPoint           = Vector2.new(1, 1)
	DragButton.Size                  = UDim2.new(0, 14, 0, 14)
	DragButton.BackgroundColor3      = _G.Third
	DragButton.BackgroundTransparency = 0.4
	DragButton.ZIndex                = 10
	local CircleDragButton = Instance.new("UICorner")
	CircleDragButton.Name           = "CircleDragButton"
	CircleDragButton.Parent         = DragButton
	CircleDragButton.CornerRadius   = UDim.new(0, 99)

	-- ── Barre du haut ────────────────────────────────────────────────────────
	local Top = Instance.new("Frame")
	Top.Name                  = "Top"
	Top.Parent                = Main
	Top.BackgroundColor3      = Color3.fromRGB(12, 12, 14)
	Top.Size                  = UDim2.new(1, 0, 0, 42)
	Top.BackgroundTransparency = 0
	CreateRounded(Top, 5)

	-- Séparateur vert sous le top bar
	local TopDivider = Instance.new("Frame")
	TopDivider.Parent           = Top
	TopDivider.BackgroundColor3 = _G.Third
	TopDivider.BorderSizePixel  = 0
	TopDivider.AnchorPoint      = Vector2.new(0, 1)
	TopDivider.Position         = UDim2.new(0, 0, 1, 0)
	TopDivider.Size             = UDim2.new(1, 0, 0, 1)
	TopDivider.BackgroundTransparency = 0.6

	-- ── Titre ────────────────────────────────────────────────────────────────
	local NameHub = Instance.new("TextLabel")
	NameHub.Name                  = "NameHub"
	NameHub.Parent                = Top
	NameHub.BackgroundTransparency = 1
	NameHub.RichText              = true
	NameHub.Position              = UDim2.new(0, 16, 0.5, 0)
	NameHub.AnchorPoint           = Vector2.new(0, 0.5)
	NameHub.Font                  = Enum.Font.GothamBold
	NameHub.Text                  = "Best Hub"
	NameHub.TextSize              = 18
	NameHub.TextColor3            = Color3.fromRGB(255, 255, 255)
	NameHub.TextXAlignment        = Enum.TextXAlignment.Left

	local nameHubSize = TextService:GetTextSize(NameHub.Text, NameHub.TextSize, NameHub.Font, Vector2.new(math.huge, math.huge))
	NameHub.Size = UDim2.new(0, nameHubSize.X, 0, 24)

	local SubTitle = Instance.new("TextLabel")
	SubTitle.Name                  = "SubTitle"
	SubTitle.Parent                = NameHub
	SubTitle.BackgroundTransparency = 1
	SubTitle.Position              = UDim2.new(0, nameHubSize.X + 10, 0.5, 0)
	SubTitle.AnchorPoint           = Vector2.new(0, 0.5)
	SubTitle.Font                  = Enum.Font.GothamMedium
	SubTitle.Text                  = Config.SubTitle
	SubTitle.TextSize              = 12
	SubTitle.TextColor3            = _G.Third

	local subSize = TextService:GetTextSize(SubTitle.Text, SubTitle.TextSize, SubTitle.Font, Vector2.new(math.huge, math.huge))
	SubTitle.Size = UDim2.new(0, subSize.X, 0, 22)

	-- ── Boutons top-droite (helper) ───────────────────────────────────────────
	local function MakeTopButton(img, posX)
		local btn = Instance.new("ImageButton")
		btn.Parent               = Top
		btn.BackgroundTransparency = 1
		btn.AnchorPoint          = Vector2.new(1, 0.5)
		btn.Position             = UDim2.new(1, posX, 0.5, 0)
		btn.Size                 = UDim2.new(0, 20, 0, 20)
		btn.Image                = img
		btn.ImageTransparency    = 0
		btn.ImageColor3          = Color3.fromRGB(210, 210, 210)
		btn.AutoButtonColor      = false
		btn.BackgroundColor3     = _G.Primary
		CreateRounded(btn, 4)
		btn.MouseEnter:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), { ImageColor3 = _G.Third }):Play()
		end)
		btn.MouseLeave:Connect(function()
			TweenService:Create(btn, TweenInfo.new(0.15), { ImageColor3 = Color3.fromRGB(210, 210, 210) }):Play()
		end)
		return btn
	end

	local CloseButton   = MakeTopButton("rbxassetid://7743878857",  -14)
	local ResizeButton  = MakeTopButton("rbxassetid://10734886735", -48)
	local SettingsButton = MakeTopButton("rbxassetid://10734950020", -82)

	CloseButton.MouseButton1Click:connect(function()
		local gui = game.CoreGui:FindFirstChild("Best Hub")
		if gui then gui.Enabled = not gui.Enabled end
	end)

	-- ── Panneau Settings ──────────────────────────────────────────────────────
	local BackgroundSettings = Instance.new("Frame")
	BackgroundSettings.Name                  = "BackgroundSettings"
	BackgroundSettings.Parent                = OutlineMain
	BackgroundSettings.ClipsDescendants      = true
	BackgroundSettings.Active                = true
	BackgroundSettings.AnchorPoint           = Vector2.new(0, 0)
	BackgroundSettings.BackgroundColor3      = Color3.fromRGB(8, 8, 10)
	BackgroundSettings.BackgroundTransparency = 0.15
	BackgroundSettings.Position              = UDim2.new(0, 0, 0, 0)
	BackgroundSettings.Size                  = UDim2.new(1, 0, 1, 0)
	BackgroundSettings.Visible               = false
	CreateRounded(BackgroundSettings, 16)

	local SettingsFrame = Instance.new("Frame")
	SettingsFrame.Name                  = "SettingsFrame"
	SettingsFrame.Parent                = BackgroundSettings
	SettingsFrame.ClipsDescendants      = true
	SettingsFrame.AnchorPoint           = Vector2.new(0.5, 0.5)
	SettingsFrame.BackgroundColor3      = Color3.fromRGB(18, 18, 20)
	SettingsFrame.BackgroundTransparency = 0
	SettingsFrame.Position              = UDim2.new(0.5, 0, 0.5, 0)
	SettingsFrame.Size                  = UDim2.new(0.65, 0, 0.68, 0)
	CreateRounded(SettingsFrame, 14)

	local SFStroke = Instance.new("UIStroke")
	SFStroke.Color      = _G.Third
	SFStroke.Thickness  = 1
	SFStroke.Transparency = 0.6
	SFStroke.Parent     = SettingsFrame

	local CloseSettings = Instance.new("ImageButton")
	CloseSettings.Name               = "CloseSettings"
	CloseSettings.Parent             = SettingsFrame
	CloseSettings.BackgroundTransparency = 1
	CloseSettings.AnchorPoint        = Vector2.new(1, 0)
	CloseSettings.Position           = UDim2.new(1, -18, 0, 16)
	CloseSettings.Size               = UDim2.new(0, 18, 0, 18)
	CloseSettings.Image              = "rbxassetid://10747384394"
	CloseSettings.ImageColor3        = Color3.fromRGB(210, 210, 210)
	CloseSettings.MouseButton1Click:connect(function()
		BackgroundSettings.Visible = false
	end)
	CloseSettings.MouseEnter:Connect(function()
		TweenService:Create(CloseSettings, TweenInfo.new(0.15), { ImageColor3 = _G.Third }):Play()
	end)
	CloseSettings.MouseLeave:Connect(function()
		TweenService:Create(CloseSettings, TweenInfo.new(0.15), { ImageColor3 = Color3.fromRGB(210, 210, 210) }):Play()
	end)

	SettingsButton.MouseButton1Click:connect(function()
		BackgroundSettings.Visible = true
	end)

	local TitleSettings = Instance.new("TextLabel")
	TitleSettings.Name                  = "TitleSettings"
	TitleSettings.Parent                = SettingsFrame
	TitleSettings.BackgroundTransparency = 1
	TitleSettings.Position              = UDim2.new(0, 20, 0, 16)
	TitleSettings.Size                  = UDim2.new(1, -50, 0, 22)
	TitleSettings.Font                  = Enum.Font.GothamBold
	TitleSettings.Text                  = "Library Settings"
	TitleSettings.TextSize              = 18
	TitleSettings.TextColor3            = Color3.fromRGB(255, 255, 255)
	TitleSettings.TextXAlignment        = Enum.TextXAlignment.Left

	local SDivider = Instance.new("Frame")
	SDivider.Parent           = SettingsFrame
	SDivider.BackgroundColor3 = _G.Third
	SDivider.BorderSizePixel  = 0
	SDivider.Position         = UDim2.new(0, 20, 0, 45)
	SDivider.Size             = UDim2.new(1, -40, 0, 1)
	SDivider.BackgroundTransparency = 0.5

	local SettingsMenuList = Instance.new("Frame")
	SettingsMenuList.Name                  = "SettingsMenuList"
	SettingsMenuList.Parent                = SettingsFrame
	SettingsMenuList.ClipsDescendants      = true
	SettingsMenuList.AnchorPoint           = Vector2.new(0, 0)
	SettingsMenuList.BackgroundTransparency = 1
	SettingsMenuList.Position              = UDim2.new(0, 0, 0, 52)
	SettingsMenuList.Size                  = UDim2.new(1, 0, 1, -72)
	CreateRounded(SettingsMenuList, 14)

	local ScrollSettings = Instance.new("ScrollingFrame")
	ScrollSettings.Name                  = "ScrollSettings"
	ScrollSettings.Parent                = SettingsMenuList
	ScrollSettings.Active                = true
	ScrollSettings.BackgroundTransparency = 1
	ScrollSettings.Position              = UDim2.new(0, 0, 0, 0)
	ScrollSettings.Size                  = UDim2.new(1, 0, 1, 0)
	ScrollSettings.ScrollBarThickness    = 2
	ScrollSettings.ScrollBarImageColor3  = _G.Third
	ScrollSettings.ScrollingDirection    = Enum.ScrollingDirection.Y

	local SettingsListLayout = Instance.new("UIListLayout")
	SettingsListLayout.Name       = "SettingsListLayout"
	SettingsListLayout.Parent     = ScrollSettings
	SettingsListLayout.SortOrder  = Enum.SortOrder.LayoutOrder
	SettingsListLayout.Padding    = UDim.new(0, 10)

	local PaddingScroll = Instance.new("UIPadding")
	PaddingScroll.Name          = "PaddingScroll"
	PaddingScroll.Parent        = ScrollSettings
	PaddingScroll.PaddingLeft   = UDim.new(0, 14)
	PaddingScroll.PaddingRight  = UDim.new(0, 14)
	PaddingScroll.PaddingTop    = UDim.new(0, 8)

	-- ── Checkbox (Settings) ───────────────────────────────────────────────────
	local function CreateCheckbox(title, state, callback)
		local checked = state or false
		local Background = Instance.new("Frame")
		Background.Name                  = "Background"
		Background.Parent                = ScrollSettings
		Background.BackgroundColor3      = _G.Primary
		Background.BackgroundTransparency = 0.6
		Background.Size                  = UDim2.new(1, 0, 0, 36)
		CreateRounded(Background, 8)

		local Title = Instance.new("TextLabel")
		Title.Name                  = "Title"
		Title.Parent                = Background
		Title.BackgroundTransparency = 1
		Title.Position              = UDim2.new(0, 52, 0.5, 0)
		Title.Size                  = UDim2.new(1, -70, 0, 20)
		Title.Font                  = Enum.Font.GothamMedium
		Title.AnchorPoint           = Vector2.new(0, 0.5)
		Title.Text                  = title or ""
		Title.TextSize              = 14
		Title.TextColor3            = Color3.fromRGB(200, 200, 200)
		Title.TextXAlignment        = Enum.TextXAlignment.Left

		local Checkbox = Instance.new("ImageButton")
		Checkbox.Name                  = "Checkbox"
		Checkbox.Parent                = Background
		Checkbox.BackgroundColor3      = Color3.fromRGB(60, 60, 65)
		Checkbox.BackgroundTransparency = 0
		Checkbox.AnchorPoint           = Vector2.new(0, 0.5)
		Checkbox.Position              = UDim2.new(0, 14, 0.5, 0)
		Checkbox.Size                  = UDim2.new(0, 20, 0, 20)
		Checkbox.Image                 = "rbxassetid://10709790644"
		Checkbox.ImageTransparency     = 1
		Checkbox.ImageColor3           = Color3.fromRGB(255, 255, 255)
		Checkbox.AutoButtonColor       = false
		CreateRounded(Checkbox, 5)

		local function updateVisual()
			if checked then
				TweenService:Create(Checkbox, TweenInfo.new(0.2), { BackgroundColor3 = _G.Third, ImageTransparency = 0 }):Play()
			else
				TweenService:Create(Checkbox, TweenInfo.new(0.2), { BackgroundColor3 = Color3.fromRGB(60, 60, 65), ImageTransparency = 1 }):Play()
			end
		end
		updateVisual()
		pcall(callback, checked)

		Checkbox.MouseButton1Click:Connect(function()
			checked = not checked
			updateVisual()
			pcall(callback, checked)
		end)
	end

	-- ── Bouton (Settings) ─────────────────────────────────────────────────────
	local function CreateButton(title, callback)
		local Background = Instance.new("Frame")
		Background.Name                  = "Background"
		Background.Parent                = ScrollSettings
		Background.BackgroundTransparency = 1
		Background.Size                  = UDim2.new(1, 0, 0, 34)

		local Button = Instance.new("TextButton")
		Button.Name                  = "Button"
		Button.Parent                = Background
		Button.BackgroundColor3      = _G.Third
		Button.BackgroundTransparency = 0
		Button.Size                  = UDim2.new(0.85, 0, 0, 32)
		Button.Font                  = Enum.Font.GothamBold
		Button.Text                  = title or "Button"
		Button.AnchorPoint           = Vector2.new(0.5, 0)
		Button.Position              = UDim2.new(0.5, 0, 0, 0)
		Button.TextColor3            = Color3.fromRGB(10, 10, 10)
		Button.TextSize              = 14
		Button.AutoButtonColor       = false
		CreateRounded(Button, 7)
		Button.MouseEnter:Connect(function()
			TweenService:Create(Button, TweenInfo.new(0.15), { BackgroundColor3 = Color3.fromRGB(0, 180, 90) }):Play()
		end)
		Button.MouseLeave:Connect(function()
			TweenService:Create(Button, TweenInfo.new(0.15), { BackgroundColor3 = _G.Third }):Play()
		end)
		Button.MouseButton1Click:Connect(callback)
	end

	CreateCheckbox("Save Settings",     SettingsLib.SaveSettings,  function(s) SettingsLib.SaveSettings  = s; (getgenv()).SaveConfig() end)
	CreateCheckbox("Loading Animation", SettingsLib.LoadAnimation, function(s) SettingsLib.LoadAnimation = s; (getgenv()).SaveConfig() end)
	CreateButton("Reset Config", function()
		if isfolder("Best Hub") then delfolder("Best Hub") end
		Update:Notify("Config réinitialisée !")
	end)

	-- ── Sidebar onglets ───────────────────────────────────────────────────────
	local Tab = Instance.new("Frame")
	Tab.Name                  = "Tab"
	Tab.Parent                = Main
	Tab.BackgroundTransparency = 1
	Tab.Position              = UDim2.new(0, 8, 0, Top.Size.Y.Offset + 6)
	Tab.Size                  = UDim2.new(0, WindowConfig.TabWidth, Config.Size.Y.Scale, Config.Size.Y.Offset - Top.Size.Y.Offset - 14)

	local ScrollTab = Instance.new("ScrollingFrame")
	ScrollTab.Name                  = "ScrollTab"
	ScrollTab.Parent                = Tab
	ScrollTab.Active                = true
	ScrollTab.BackgroundTransparency = 1
	ScrollTab.Position              = UDim2.new(0, 0, 0, 0)
	ScrollTab.Size                  = UDim2.new(1, 0, 1, 0)
	ScrollTab.ScrollBarThickness    = 0
	ScrollTab.ScrollingDirection    = Enum.ScrollingDirection.Y

	local TabListLayout = Instance.new("UIListLayout")
	TabListLayout.Name       = "TabListLayout"
	TabListLayout.Parent     = ScrollTab
	TabListLayout.SortOrder  = Enum.SortOrder.LayoutOrder
	TabListLayout.Padding    = UDim.new(0, 3)

	local PPD = Instance.new("UIPadding")
	PPD.Name       = "PPD"
	PPD.Parent     = ScrollTab
	PPD.PaddingTop = UDim.new(0, 4)

	-- ── Page principale ───────────────────────────────────────────────────────
	local Page = Instance.new("Frame")
	Page.Name                  = "Page"
	Page.Parent                = Main
	Page.BackgroundTransparency = 1
	Page.Position              = UDim2.new(0, Tab.Size.X.Offset + 16, 0, Top.Size.Y.Offset + 6)
	Page.Size                  = UDim2.new(
		Config.Size.X.Scale, Config.Size.X.Offset - Tab.Size.X.Offset - 24,
		Config.Size.Y.Scale, Config.Size.Y.Offset - Top.Size.Y.Offset - 14
	)

	local MainPage = Instance.new("Frame")
	MainPage.Name                  = "MainPage"
	MainPage.Parent                = Page
	MainPage.ClipsDescendants      = true
	MainPage.BackgroundTransparency = 1
	MainPage.Size                  = UDim2.new(1, 0, 1, 0)
	CreateRounded(MainPage, 6)

	local PageList = Instance.new("Folder")
	PageList.Name   = "PageList"
	PageList.Parent = MainPage

	local UIPageLayout = Instance.new("UIPageLayout")
	UIPageLayout.Parent              = PageList
	UIPageLayout.SortOrder           = Enum.SortOrder.LayoutOrder
	UIPageLayout.EasingDirection     = Enum.EasingDirection.InOut
	UIPageLayout.EasingStyle         = Enum.EasingStyle.Quad
	UIPageLayout.FillDirection       = Enum.FillDirection.Vertical
	UIPageLayout.Padding             = UDim.new(0, 10)
	UIPageLayout.TweenTime           = 0
	UIPageLayout.GamepadInputEnabled  = false
	UIPageLayout.ScrollWheelInputEnabled = false
	UIPageLayout.TouchInputEnabled   = false

	MakeDraggable(Top, OutlineMain)

	-- ── Insert key toggle ─────────────────────────────────────────────────────
	UserInputService.InputBegan:Connect(function(input)
		if input.KeyCode == Enum.KeyCode.Insert then
			local gui = game.CoreGui:FindFirstChild("Best Hub")
			if gui then gui.Enabled = not gui.Enabled end
		end
	end)

	-- ── Resize via DragButton ─────────────────────────────────────────────────
	local Dragging = false
	DragButton.InputBegan:Connect(function(Input)
		if Input.UserInputType == Enum.UserInputType.MouseButton1
		or Input.UserInputType == Enum.UserInputType.Touch then
			Dragging = true
		end
	end)
	UserInputService.InputEnded:Connect(function(Input)
		if Input.UserInputType == Enum.UserInputType.MouseButton1
		or Input.UserInputType == Enum.UserInputType.Touch then
			Dragging = false
		end
	end)
	UserInputService.InputChanged:Connect(function(Input)
		if Dragging and (Input.UserInputType == Enum.UserInputType.MouseMovement
		or Input.UserInputType == Enum.UserInputType.Touch) then
			local nW = math.clamp(Input.Position.X - Main.AbsolutePosition.X,     WindowConfig.Size.X.Offset, math.huge)
			local nH = math.clamp(Input.Position.Y - Main.AbsolutePosition.Y,     WindowConfig.Size.Y.Offset, math.huge)
			OutlineMain.Size = UDim2.new(0, nW + 14, 0, nH + 14)
			Main.Size        = UDim2.new(0, nW, 0, nH)
			Page.Size = UDim2.new(0,
				math.clamp(Input.Position.X - Page.AbsolutePosition.X - 8, WindowConfig.Size.X.Offset - Tab.Size.X.Offset - 24, math.huge), 0,
				math.clamp(Input.Position.Y - Page.AbsolutePosition.Y - 8, WindowConfig.Size.Y.Offset - Top.Size.Y.Offset - 14, math.huge)
			)
			Tab.Size = UDim2.new(0, WindowConfig.TabWidth, 0,
				math.clamp(Input.Position.Y - Tab.AbsolutePosition.Y - 8, WindowConfig.Size.Y.Offset - Top.Size.Y.Offset - 14, math.huge)
			)
		end
	end)

	-- ════════════════════════════════════════════════════════════════════════
	--  uitab (retourné par Window)
	-- ════════════════════════════════════════════════════════════════════════
	local uitab = {}

	function uitab:Tab(text, img)
		-- ── Bouton onglet ────────────────────────────────────────────────────
		local TabButton = Instance.new("TextButton")
		TabButton.Parent                = ScrollTab
		TabButton.Name                  = text .. "Unique"
		TabButton.Text                  = ""
		TabButton.BackgroundColor3      = Color3.fromRGB(30, 30, 32)
		TabButton.BackgroundTransparency = 1
		TabButton.Size                  = UDim2.new(1, 0, 0, 36)
		TabButton.AutoButtonColor       = false
		CreateRounded(TabButton, 8)

		local SelectedTab = Instance.new("Frame")
		SelectedTab.Name                = "SelectedTab"
		SelectedTab.Parent              = TabButton
		SelectedTab.BackgroundColor3    = _G.Third
		SelectedTab.BackgroundTransparency = 0
		SelectedTab.Size                = UDim2.new(0, 3, 0, 0)
		SelectedTab.Position            = UDim2.new(0, 0, 0.5, 0)
		SelectedTab.AnchorPoint         = Vector2.new(0, 0.5)
		CreateRounded(SelectedTab, 100)

		local IDK = Instance.new("ImageLabel")
		IDK.Name                  = "IDK"
		IDK.Parent                = TabButton
		IDK.BackgroundTransparency = 1
		IDK.ImageTransparency     = 0.5
		IDK.Position              = UDim2.new(0, 10, 0.5, 0)
		IDK.Size                  = UDim2.new(0, 16, 0, 16)
		IDK.AnchorPoint           = Vector2.new(0, 0.5)
		IDK.Image                 = img

		local Title = Instance.new("TextLabel")
		Title.Name                  = "Title"
		Title.Parent                = TabButton
		Title.BackgroundTransparency = 1
		Title.Position              = UDim2.new(0, 32, 0.5, 0)
		Title.Size                  = UDim2.new(1, -40, 0, 28)
		Title.Font                  = Enum.Font.GothamMedium
		Title.Text                  = text
		Title.AnchorPoint           = Vector2.new(0, 0.5)
		Title.TextColor3            = Color3.fromRGB(255, 255, 255)
		Title.TextTransparency      = 0.5
		Title.TextSize              = 13
		Title.TextXAlignment        = Enum.TextXAlignment.Left

		-- ── Page ScrollingFrame ──────────────────────────────────────────────
		local MainFramePage = Instance.new("ScrollingFrame")
		MainFramePage.Name                  = text .. "_Page"
		MainFramePage.Parent                = PageList
		MainFramePage.Active                = true
		MainFramePage.BackgroundTransparency = 1
		MainFramePage.Position              = UDim2.new(0, 0, 0, 0)
		MainFramePage.Size                  = UDim2.new(1, 0, 1, 0)
		MainFramePage.ScrollBarThickness    = 2
		MainFramePage.ScrollBarImageColor3  = _G.Third
		MainFramePage.ScrollingDirection    = Enum.ScrollingDirection.Y

		local UIPadding = Instance.new("UIPadding")
		UIPadding.Parent       = MainFramePage
		UIPadding.PaddingLeft  = UDim.new(0, 6)
		UIPadding.PaddingRight = UDim.new(0, 6)
		UIPadding.PaddingTop   = UDim.new(0, 4)

		local UIListLayout = Instance.new("UIListLayout")
		UIListLayout.Parent    = MainFramePage
		UIListLayout.Padding   = UDim.new(0, 4)
		UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

		-- ── Helpers d'animation onglet ────────────────────────────────────────
		local function deselectAll()
			for _, v in next, ScrollTab:GetChildren() do
				if v:IsA("TextButton") then
					TweenService:Create(v, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { BackgroundTransparency = 1 }):Play()
					TweenService:Create(v.SelectedTab, TweenInfo.new(0.01), { Size = UDim2.new(0, 3, 0, 0) }):Play()
					TweenService:Create(v.IDK, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { ImageTransparency = 0.5 }):Play()
					TweenService:Create(v.Title, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { TextTransparency = 0.5 }):Play()
				end
			end
		end

		local function selectThis()
			TweenService:Create(TabButton, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { BackgroundTransparency = 0.75 }):Play()
			TweenService:Create(SelectedTab, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Size = UDim2.new(0, 3, 0, 16) }):Play()
			TweenService:Create(IDK, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { ImageTransparency = 0 }):Play()
			TweenService:Create(Title, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { TextTransparency = 0 }):Play()
		end

		TabButton.MouseButton1Click:Connect(function()
			deselectAll()
			selectThis()
			currentpage = string.gsub(TabButton.Name, "Unique", "") .. "_Page"
			for _, v in next, PageList:GetChildren() do
				if v.Name == currentpage then UIPageLayout:JumpTo(v) end
			end
		end)

		-- Premier onglet : sélectionné par défaut
		if abc == false then
			deselectAll()
			selectThis()
			UIPageLayout:JumpToIndex(1)
			abc = true
		end

		-- Canvas auto-resize
		RunService.Stepped:Connect(function()
			pcall(function()
				MainFramePage.CanvasSize   = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 10)
				ScrollTab.CanvasSize       = UDim2.new(0, 0, 0, TabListLayout.AbsoluteContentSize.Y)
				ScrollSettings.CanvasSize  = UDim2.new(0, 0, 0, SettingsListLayout.AbsoluteContentSize.Y)
			end)
		end)

		-- ── Maximize / Restore ────────────────────────────────────────────────
		local defaultSize = true
		ResizeButton.MouseButton1Click:Connect(function()
			if defaultSize then
				defaultSize = false
				OutlineMain:TweenPosition(UDim2.new(0.5, 0, 0.45, 0), "Out", "Quad", 0.2, true)
				Main:TweenSize(UDim2.new(1, 0, 1, 0), "Out", "Quad", 0.35, true, function()
					Page:TweenSize(UDim2.new(0, Main.AbsoluteSize.X - Tab.AbsoluteSize.X - 24, 0, Main.AbsoluteSize.Y - Top.AbsoluteSize.Y - 14), "Out", "Quad", 0.35, true)
					Tab:TweenSize(UDim2.new(0, WindowConfig.TabWidth, 0, Main.AbsoluteSize.Y - Top.AbsoluteSize.Y - 14), "Out", "Quad", 0.35, true)
				end)
				OutlineMain:TweenSize(UDim2.new(1, -10, 1, -10), "Out", "Quad", 0.35, true)
				ResizeButton.Image = "rbxassetid://10734895698"
			else
				defaultSize = true
				Main:TweenSize(UDim2.new(0, WindowConfig.Size.X.Offset, 0, WindowConfig.Size.Y.Offset), "Out", "Quad", 0.35, true, function()
					Page:TweenSize(UDim2.new(0, Main.AbsoluteSize.X - Tab.AbsoluteSize.X - 24, 0, Main.AbsoluteSize.Y - Top.AbsoluteSize.Y - 14), "Out", "Quad", 0.35, true)
					Tab:TweenSize(UDim2.new(0, WindowConfig.TabWidth, 0, Main.AbsoluteSize.Y - Top.AbsoluteSize.Y - 14), "Out", "Quad", 0.35, true)
				end)
				OutlineMain:TweenSize(UDim2.new(0, WindowConfig.Size.X.Offset + 14, 0, WindowConfig.Size.Y.Offset + 14), "Out", "Quad", 0.35, true)
				ResizeButton.Image = "rbxassetid://10734886735"
			end
		end)

		-- ════════════════════════════════════════════════════════════════════
		--  main (retourné par Tab)
		-- ════════════════════════════════════════════════════════════════════
		local main = {}

		-- ── Helper : créer un container de base pour chaque élément ──────────
		local function BaseFrame(h)
			local f = Instance.new("Frame")
			f.Name                  = "Element"
			f.Parent                = MainFramePage
			f.BackgroundColor3      = _G.Primary
			f.BackgroundTransparency = 0.75
			f.Size                  = UDim2.new(1, 0, 0, h)
			CreateRounded(f, 8)
			return f
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Button(text, callback)
			local Button    = BaseFrame(36)
			Button.Name     = "Button"
			Button.BackgroundTransparency = 0.75

			local Arrow = Instance.new("ImageLabel")
			Arrow.Name                  = "ArrowRight"
			Arrow.Parent                = Button
			Arrow.BackgroundTransparency = 1
			Arrow.AnchorPoint           = Vector2.new(0, 0.5)
			Arrow.Position              = UDim2.new(0, 10, 0.5, 0)
			Arrow.Size                  = UDim2.new(0, 12, 0, 12)
			Arrow.Image                 = "rbxassetid://10709768347"
			Arrow.ImageColor3           = _G.Third
			Arrow.ImageTransparency     = 0

			local TextLabel = Instance.new("TextLabel")
			TextLabel.Name                  = "TextLabel"
			TextLabel.Parent                = Button
			TextLabel.BackgroundTransparency = 1
			TextLabel.AnchorPoint           = Vector2.new(0, 0.5)
			TextLabel.Position              = UDim2.new(0, 26, 0.5, 0)
			TextLabel.Size                  = UDim2.new(1, -60, 1, 0)
			TextLabel.Font                  = Enum.Font.GothamMedium
			TextLabel.RichText              = true
			TextLabel.Text                  = text
			TextLabel.TextXAlignment        = Enum.TextXAlignment.Left
			TextLabel.TextColor3            = Color3.fromRGB(235, 235, 235)
			TextLabel.TextSize              = 14
			TextLabel.ClipsDescendants      = true

			local RunBtn = Instance.new("TextButton")
			RunBtn.Name                  = "TextButton"
			RunBtn.Parent                = Button
			RunBtn.BackgroundColor3      = _G.Third
			RunBtn.BackgroundTransparency = 0
			RunBtn.AnchorPoint           = Vector2.new(1, 0.5)
			RunBtn.Position              = UDim2.new(1, -8, 0.5, 0)
			RunBtn.Size                  = UDim2.new(0, 26, 0, 26)
			RunBtn.Font                  = Enum.Font.Gotham
			RunBtn.Text                  = ""
			RunBtn.AutoButtonColor       = false
			CreateRounded(RunBtn, 6)

			local RunIcon = Instance.new("ImageLabel")
			RunIcon.Name                  = "ImageLabel"
			RunIcon.Parent                = RunBtn
			RunIcon.BackgroundTransparency = 1
			RunIcon.AnchorPoint           = Vector2.new(0.5, 0.5)
			RunIcon.Position              = UDim2.new(0.5, 0, 0.5, 0)
			RunIcon.Size                  = UDim2.new(0, 14, 0, 14)
			RunIcon.Image                 = "rbxassetid://10734898355"
			RunIcon.ImageColor3           = Color3.fromRGB(10, 10, 10)

			RunBtn.MouseEnter:Connect(function()
				TweenService:Create(RunBtn, TweenInfo.new(0.15), { BackgroundColor3 = Color3.fromRGB(0, 180, 90) }):Play()
			end)
			RunBtn.MouseLeave:Connect(function()
				TweenService:Create(RunBtn, TweenInfo.new(0.15), { BackgroundColor3 = _G.Third }):Play()
			end)
			RunBtn.MouseButton1Click:Connect(function()
				callback()
			end)
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Toggle(text, config, desc, callback)
			config = config or false
			local toggled = config

			local h = desc and 46 or 36
			local Button = BaseFrame(h)
			Button.Name = "Button"
			Button.AutoButtonColor = false

			local Title2 = Instance.new("TextLabel")
			Title2.Parent                = Button
			Title2.BackgroundTransparency = 1
			Title2.Font                  = Enum.Font.GothamMedium
			Title2.Text                  = text
			Title2.TextColor3            = Color3.fromRGB(235, 235, 235)
			Title2.TextSize              = 14
			Title2.TextXAlignment        = Enum.TextXAlignment.Left
			Title2.AnchorPoint           = Vector2.new(0, 0.5)
			Title2.Size                  = UDim2.new(1, -70, 0, 35)

			if desc then
				Title2.Position = UDim2.new(0, 14, 0.5, -6)
				local Desc = Instance.new("TextLabel")
				Desc.Parent                = Title2
				Desc.BackgroundTransparency = 1
				Desc.Position              = UDim2.new(0, 0, 0, 21)
				Desc.Size                  = UDim2.new(1, 0, 0, 14)
				Desc.Font                  = Enum.Font.Gotham
				Desc.Text                  = desc
				Desc.TextColor3            = Color3.fromRGB(120, 120, 120)
				Desc.TextSize              = 10
				Desc.TextXAlignment        = Enum.TextXAlignment.Left
			else
				Title2.Position = UDim2.new(0, 14, 0.5, 0)
			end

			-- Track
			local ToggleFrame = Instance.new("Frame")
			ToggleFrame.Name                = "ToggleFrame"
			ToggleFrame.Parent              = Button
			ToggleFrame.BackgroundTransparency = 1
			ToggleFrame.Position            = UDim2.new(1, -12, 0.5, 0)
			ToggleFrame.Size               = UDim2.new(0, 36, 0, 20)
			ToggleFrame.AnchorPoint         = Vector2.new(1, 0.5)
			CreateRounded(ToggleFrame, 10)

			local ToggleImage = Instance.new("TextButton")
			ToggleImage.Name                = "ToggleImage"
			ToggleImage.Parent              = ToggleFrame
			ToggleImage.BackgroundColor3    = Color3.fromRGB(55, 55, 60)
			ToggleImage.BackgroundTransparency = 0
			ToggleImage.Position            = UDim2.new(0, 0, 0, 0)
			ToggleImage.Size               = UDim2.new(1, 0, 1, 0)
			ToggleImage.Text               = ""
			ToggleImage.AutoButtonColor    = false
			CreateRounded(ToggleImage, 10)

			local Circle = Instance.new("Frame")
			Circle.Name              = "Circle"
			Circle.Parent            = ToggleImage
			Circle.BackgroundColor3  = Color3.fromRGB(255, 255, 255)
			Circle.Position          = UDim2.new(0, 3, 0.5, 0)
			Circle.Size              = UDim2.new(0, 14, 0, 14)
			Circle.AnchorPoint       = Vector2.new(0, 0.5)
			CreateRounded(Circle, 10)

			local function applyToggle(state, instant)
				if state then
					Circle:TweenPosition(UDim2.new(0, 18, 0.5, 0), "Out", "Sine", instant and 0 or 0.18, true)
					TweenService:Create(ToggleImage, TweenInfo.new(instant and 0 or 0.3), {
						BackgroundColor3 = _G.Third, BackgroundTransparency = 0
					}):Play()
					TweenService:Create(Circle, TweenInfo.new(instant and 0 or 0.2), { BackgroundColor3 = Color3.fromRGB(10, 10, 10) }):Play()
				else
					Circle:TweenPosition(UDim2.new(0, 3, 0.5, 0), "Out", "Sine", instant and 0 or 0.18, true)
					TweenService:Create(ToggleImage, TweenInfo.new(instant and 0 or 0.3), {
						BackgroundColor3 = Color3.fromRGB(55, 55, 60), BackgroundTransparency = 0
					}):Play()
					TweenService:Create(Circle, TweenInfo.new(instant and 0 or 0.2), { BackgroundColor3 = Color3.fromRGB(255, 255, 255) }):Play()
				end
			end

			ToggleImage.MouseButton1Click:Connect(function()
				toggled = not toggled
				applyToggle(toggled, false)
				pcall(callback, toggled)
			end)

			if config == true then
				applyToggle(true, false)
				pcall(callback, toggled)
			end
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Dropdown(text, option, var, callback)
			local isdropping = false
			local activeItem = ""

			local Dropdown = Instance.new("Frame")
			Dropdown.Name                  = "Dropdown"
			Dropdown.Parent                = MainFramePage
			Dropdown.BackgroundColor3      = _G.Primary
			Dropdown.BackgroundTransparency = 0.75
			Dropdown.ClipsDescendants      = false
			Dropdown.Size                  = UDim2.new(1, 0, 0, 40)
			CreateRounded(Dropdown, 8)

			local DropTitle = Instance.new("TextLabel")
			DropTitle.Name                  = "DropTitle"
			DropTitle.Parent                = Dropdown
			DropTitle.BackgroundTransparency = 1
			DropTitle.Size                  = UDim2.new(1, -120, 0, 30)
			DropTitle.Font                  = Enum.Font.GothamMedium
			DropTitle.Text                  = text
			DropTitle.TextColor3            = Color3.fromRGB(220, 220, 220)
			DropTitle.TextSize              = 14
			DropTitle.TextXAlignment        = Enum.TextXAlignment.Left
			DropTitle.Position              = UDim2.new(0, 14, 0, 5)

			local ArrowDown = Instance.new("ImageLabel")
			ArrowDown.Name                  = "ArrowDown"
			ArrowDown.Parent                = Dropdown
			ArrowDown.BackgroundTransparency = 1
			ArrowDown.AnchorPoint           = Vector2.new(1, 0)
			ArrowDown.Position              = UDim2.new(1, -115, 0, 10)
			ArrowDown.Size                  = UDim2.new(0, 18, 0, 18)
			ArrowDown.Image                 = "rbxassetid://10709790948"
			ArrowDown.ImageColor3           = _G.Third

			local SelectItems = Instance.new("TextButton")
			SelectItems.Name                  = "SelectItems"
			SelectItems.Parent                = Dropdown
			SelectItems.BackgroundColor3      = Color3.fromRGB(24, 24, 26)
			SelectItems.TextColor3            = Color3.fromRGB(200, 200, 200)
			SelectItems.BackgroundTransparency = 0
			SelectItems.Position              = UDim2.new(1, -5, 0, 5)
			SelectItems.Size                  = UDim2.new(0, 105, 0, 30)
			SelectItems.AnchorPoint           = Vector2.new(1, 0)
			SelectItems.Font                  = Enum.Font.GothamMedium
			SelectItems.AutoButtonColor       = false
			SelectItems.TextSize              = 10
			SelectItems.ClipsDescendants      = true
			SelectItems.Text                  = "   Sélectionner"
			SelectItems.TextXAlignment        = Enum.TextXAlignment.Left
			CreateRounded(SelectItems, 6)

			local DropdownFrameScroll = Instance.new("Frame")
			DropdownFrameScroll.Name                  = "DropdownFrameScroll"
			DropdownFrameScroll.Parent                = Dropdown
			DropdownFrameScroll.BackgroundColor3      = Color3.fromRGB(20, 20, 22)
			DropdownFrameScroll.BackgroundTransparency = 0
			DropdownFrameScroll.ClipsDescendants      = true
			DropdownFrameScroll.Size                  = UDim2.new(1, 0, 0, 100)
			DropdownFrameScroll.Position              = UDim2.new(0, 4, 0, 42)
			DropdownFrameScroll.Visible               = false
			CreateRounded(DropdownFrameScroll, 7)

			local DSStroke = Instance.new("UIStroke")
			DSStroke.Color      = _G.Third
			DSStroke.Thickness  = 1
			DSStroke.Transparency = 0.6
			DSStroke.Parent     = DropdownFrameScroll

			local DropScroll = Instance.new("ScrollingFrame")
			DropScroll.Name                  = "DropScroll"
			DropScroll.Parent                = DropdownFrameScroll
			DropScroll.ScrollingDirection    = Enum.ScrollingDirection.Y
			DropScroll.Active                = true
			DropScroll.BackgroundTransparency = 1
			DropScroll.BorderSizePixel       = 0
			DropScroll.Position              = UDim2.new(0, 0, 0, 8)
			DropScroll.Size                  = UDim2.new(1, 0, 0, 82)
			DropScroll.ClipsDescendants      = true
			DropScroll.ScrollBarThickness    = 2
			DropScroll.ScrollBarImageColor3  = _G.Third
			DropScroll.ZIndex                = 3

			local UIListLayout = Instance.new("UIListLayout")
			UIListLayout.Parent    = DropScroll
			UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
			UIListLayout.Padding   = UDim.new(0, 2)

			local PaddingDrop = Instance.new("UIPadding")
			PaddingDrop.PaddingLeft  = UDim.new(0, 8)
			PaddingDrop.PaddingRight = UDim.new(0, 8)
			PaddingDrop.Parent       = DropScroll

			local function makeItem(v)
				local Item = Instance.new("TextButton")
				Item.Name                  = "Item"
				Item.Parent                = DropScroll
				Item.BackgroundColor3      = _G.Primary
				Item.BackgroundTransparency = 1
				Item.Size                  = UDim2.new(1, 0, 0, 28)
				Item.Font                  = Enum.Font.GothamMedium
				Item.Text                  = tostring(v)
				Item.TextColor3            = Color3.fromRGB(200, 200, 200)
				Item.TextSize              = 13
				Item.TextTransparency      = 0.3
				Item.TextXAlignment        = Enum.TextXAlignment.Left
				Item.ZIndex                = 4
				Item.AutoButtonColor       = false
				CreateRounded(Item, 5)

				local ItemPad = Instance.new("UIPadding")
				ItemPad.PaddingLeft = UDim.new(0, 8)
				ItemPad.Parent      = Item

				local SelectedItems = Instance.new("Frame")
				SelectedItems.Name                = "SelectedItems"
				SelectedItems.Parent              = Item
				SelectedItems.BackgroundColor3    = _G.Third
				SelectedItems.BackgroundTransparency = 1
				SelectedItems.Size               = UDim2.new(0, 3, 0.5, 0)
				SelectedItems.Position           = UDim2.new(0, -8, 0.5, 0)
				SelectedItems.AnchorPoint        = Vector2.new(0, 0.5)
				SelectedItems.ZIndex             = 4
				CreateRounded(SelectedItems, 999)

				Item.MouseEnter:Connect(function()
					TweenService:Create(Item, TweenInfo.new(0.15), { BackgroundTransparency = 0.8 }):Play()
				end)
				Item.MouseLeave:Connect(function()
					if activeItem ~= Item.Text then
						TweenService:Create(Item, TweenInfo.new(0.15), { BackgroundTransparency = 1 }):Play()
					end
				end)

				Item.MouseButton1Click:Connect(function()
					callback(Item.Text)
					activeItem = Item.Text
					SelectItems.Text = "   " .. Item.Text
					for _, w in next, DropScroll:GetChildren() do
						if w:IsA("TextButton") then
							local si = w:FindFirstChild("SelectedItems")
							if activeItem == w.Text then
								w.BackgroundTransparency = 0.8
								w.TextTransparency = 0
								if si then si.BackgroundTransparency = 0 end
							else
								w.BackgroundTransparency = 1
								w.TextTransparency = 0.3
								if si then si.BackgroundTransparency = 1 end
							end
						end
					end
				end)
				return Item
			end

			for _, v in next, option do makeItem(v) end
			DropScroll.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y)

			if var then
				pcall(callback, var)
				SelectItems.Text = "   " .. var
				activeItem = tostring(var)
				for _, v in next, DropScroll:GetChildren() do
					if v:IsA("TextButton") then
						local si = v:FindFirstChild("SelectedItems")
						if activeItem == v.Text then
							v.BackgroundTransparency = 0.8
							v.TextTransparency = 0
							if si then si.BackgroundTransparency = 0 end
						end
					end
				end
			end

			SelectItems.MouseButton1Click:Connect(function()
				if not isdropping then
					isdropping = true
					DropdownFrameScroll.Visible = true
					TweenService:Create(DropdownFrameScroll, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Size = UDim2.new(1, -8, 0, 100) }):Play()
					TweenService:Create(Dropdown, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Size = UDim2.new(1, 0, 0, 148) }):Play()
					TweenService:Create(ArrowDown, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Rotation = 180 }):Play()
				else
					isdropping = false
					TweenService:Create(DropdownFrameScroll, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Size = UDim2.new(1, -8, 0, 0) }):Play()
					TweenService:Create(Dropdown, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Size = UDim2.new(1, 0, 0, 40) }):Play()
					TweenService:Create(ArrowDown, TweenInfo.new(0.25, Enum.EasingStyle.Quad), { Rotation = 0 }):Play()
					wait(0.26)
					DropdownFrameScroll.Visible = false
				end
			end)

			local dropfunc = {}
			function dropfunc:Add(t)
				makeItem(t)
				DropScroll.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y)
			end
			function dropfunc:Clear()
				SelectItems.Text    = "   Sélectionner"
				isdropping          = false
				DropdownFrameScroll.Visible = false
				Dropdown.Size       = UDim2.new(1, 0, 0, 40)
				for _, v in next, DropScroll:GetChildren() do
					if v:IsA("TextButton") then v:Destroy() end
				end
			end
			return dropfunc
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Slider(text, min, max, set, callback)
			local Slider = BaseFrame(40)
			Slider.Name = "Slider"

			local sliderr = Instance.new("Frame")
			sliderr.Name                  = "sliderr"
			sliderr.Parent                = Slider
			sliderr.BackgroundTransparency = 1
			sliderr.Size                  = UDim2.new(1, 0, 1, 0)

			local TitleS = Instance.new("TextLabel")
			TitleS.Parent                = sliderr
			TitleS.BackgroundTransparency = 1
			TitleS.Position              = UDim2.new(0, 14, 0.5, 0)
			TitleS.Size                  = UDim2.new(0.5, 0, 0, 30)
			TitleS.Font                  = Enum.Font.GothamMedium
			TitleS.Text                  = text
			TitleS.AnchorPoint           = Vector2.new(0, 0.5)
			TitleS.TextColor3            = Color3.fromRGB(220, 220, 220)
			TitleS.TextSize              = 14
			TitleS.TextXAlignment        = Enum.TextXAlignment.Left

			local bar = Instance.new("Frame")
			bar.Name                  = "bar"
			bar.Parent                = sliderr
			bar.BackgroundColor3      = Color3.fromRGB(45, 45, 50)
			bar.Size                  = UDim2.new(0, 110, 0, 5)
			bar.Position              = UDim2.new(1, -14, 0.5, 0)
			bar.BackgroundTransparency = 0
			bar.AnchorPoint           = Vector2.new(1, 0.5)
			CreateRounded(bar, 5)

			local bar1 = Instance.new("Frame")
			bar1.Name             = "bar1"
			bar1.Parent           = bar
			bar1.BackgroundColor3 = _G.Third
			bar1.Size             = UDim2.new(set / max, 0, 1, 0)
			CreateRounded(bar1, 5)

			local ValueText = Instance.new("TextLabel")
			ValueText.Parent                = bar
			ValueText.BackgroundTransparency = 1
			ValueText.Position              = UDim2.new(0, -40, 0.5, 0)
			ValueText.Size                  = UDim2.new(0, 32, 0, 28)
			ValueText.Font                  = Enum.Font.GothamMedium
			ValueText.Text                  = tostring(set)
			ValueText.AnchorPoint           = Vector2.new(0, 0.5)
			ValueText.TextColor3            = _G.Third
			ValueText.TextSize              = 13
			ValueText.TextXAlignment        = Enum.TextXAlignment.Right

			local circlebar = Instance.new("Frame")
			circlebar.Name             = "circlebar"
			circlebar.Parent           = bar1
			circlebar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			circlebar.Position         = UDim2.new(1, 0, 0.5, 0)
			circlebar.AnchorPoint      = Vector2.new(0.5, 0.5)
			circlebar.Size             = UDim2.new(0, 13, 0, 13)
			CreateRounded(circlebar, 100)

			local GlowCircle = Instance.new("UIStroke")
			GlowCircle.Color      = _G.Third
			GlowCircle.Thickness  = 2
			GlowCircle.Transparency = 0.4
			GlowCircle.Parent     = circlebar

			local Value = set
			pcall(function() callback(Value) end)

			local Dragging = false

			circlebar.InputBegan:Connect(function(Input)
				if Input.UserInputType == Enum.UserInputType.MouseButton1
				or Input.UserInputType == Enum.UserInputType.Touch then
					Dragging = true
				end
			end)
			bar.InputBegan:Connect(function(Input)
				if Input.UserInputType == Enum.UserInputType.MouseButton1
				or Input.UserInputType == Enum.UserInputType.Touch then
					Dragging = true
				end
			end)
			UserInputService.InputEnded:Connect(function(Input)
				if Input.UserInputType == Enum.UserInputType.MouseButton1
				or Input.UserInputType == Enum.UserInputType.Touch then
					Dragging = false
				end
			end)
			UserInputService.InputChanged:Connect(function(Input)
				if Dragging and (Input.UserInputType == Enum.UserInputType.MouseMovement
				or Input.UserInputType == Enum.UserInputType.Touch) then
					local rel = math.clamp(Input.Position.X - bar.AbsolutePosition.X, 0, 110)
					local pct = rel / 110
					Value = math.floor(tonumber(min) + (tonumber(max) - tonumber(min)) * pct)
					bar1.Size    = UDim2.new(0, rel, 1, 0)
					ValueText.Text = tostring(Value)
					pcall(function() callback(Value) end)
				end
			end)
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Textbox(text, disappear, callback)
			local Textbox = BaseFrame(36)
			Textbox.Name = "Textbox"

			local TextboxLabel = Instance.new("TextLabel")
			TextboxLabel.Name                  = "TextboxLabel"
			TextboxLabel.Parent                = Textbox
			TextboxLabel.BackgroundTransparency = 1
			TextboxLabel.Position              = UDim2.new(0, 14, 0.5, 0)
			TextboxLabel.Size                  = UDim2.new(0.5, 0, 0, 35)
			TextboxLabel.Font                  = Enum.Font.GothamMedium
			TextboxLabel.AnchorPoint           = Vector2.new(0, 0.5)
			TextboxLabel.TextColor3            = Color3.fromRGB(220, 220, 220)
			TextboxLabel.TextSize              = 14
			TextboxLabel.Text                  = text
			TextboxLabel.TextXAlignment        = Enum.TextXAlignment.Left

			local RealTextbox = Instance.new("TextBox")
			RealTextbox.Name                  = "RealTextbox"
			RealTextbox.Parent                = Textbox
			RealTextbox.BackgroundColor3      = Color3.fromRGB(28, 28, 30)
			RealTextbox.BackgroundTransparency = 0
			RealTextbox.Position              = UDim2.new(1, -7, 0.5, 0)
			RealTextbox.AnchorPoint           = Vector2.new(1, 0.5)
			RealTextbox.Size                  = UDim2.new(0, 95, 0, 26)
			RealTextbox.Font                  = Enum.Font.GothamMedium
			RealTextbox.Text                  = ""
			RealTextbox.PlaceholderText       = "Entrez..."
			RealTextbox.TextColor3            = Color3.fromRGB(220, 220, 220)
			RealTextbox.PlaceholderColor3     = Color3.fromRGB(90, 90, 100)
			RealTextbox.TextSize              = 12
			RealTextbox.ClipsDescendants      = true
			CreateRounded(RealTextbox, 6)

			local TBStroke = Instance.new("UIStroke")
			TBStroke.Color      = _G.Third
			TBStroke.Thickness  = 1
			TBStroke.Transparency = 0.7
			TBStroke.Parent     = RealTextbox

			RealTextbox.Focused:Connect(function()
				TweenService:Create(TBStroke, TweenInfo.new(0.2), { Transparency = 0.2 }):Play()
			end)
			RealTextbox.FocusLost:Connect(function()
				TweenService:Create(TBStroke, TweenInfo.new(0.2), { Transparency = 0.7 }):Play()
				callback(RealTextbox.Text)
			end)
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Label(text)
			local Frame = Instance.new("Frame")
			Frame.Name                  = "Frame"
			Frame.Parent                = MainFramePage
			Frame.BackgroundTransparency = 1
			Frame.Size                  = UDim2.new(1, 0, 0, 28)

			local ImageLabel = Instance.new("ImageLabel")
			ImageLabel.Name                  = "ImageLabel"
			ImageLabel.Parent                = Frame
			ImageLabel.BackgroundTransparency = 1
			ImageLabel.ImageTransparency     = 0
			ImageLabel.Position              = UDim2.new(0, 10, 0.5, 0)
			ImageLabel.Size                  = UDim2.new(0, 12, 0, 12)
			ImageLabel.AnchorPoint           = Vector2.new(0, 0.5)
			ImageLabel.Image                 = "rbxassetid://10723415903"
			ImageLabel.ImageColor3           = _G.Third

			local Label = Instance.new("TextLabel")
			Label.Name                  = "Label"
			Label.Parent                = Frame
			Label.BackgroundTransparency = 1
			Label.Size                  = UDim2.new(1, -30, 0, 28)
			Label.Font                  = Enum.Font.GothamMedium
			Label.Position              = UDim2.new(0, 26, 0.5, 0)
			Label.AnchorPoint           = Vector2.new(0, 0.5)
			Label.TextColor3            = Color3.fromRGB(180, 180, 180)
			Label.TextSize              = 13
			Label.Text                  = text
			Label.TextXAlignment        = Enum.TextXAlignment.Left

			local labelfunc = {}
			function labelfunc:Set(newtext) Label.Text = newtext end
			return labelfunc
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Seperator(text)
			local Seperator = Instance.new("Frame")
			Seperator.Name                  = "Seperator"
			Seperator.Parent                = MainFramePage
			Seperator.BackgroundTransparency = 1
			Seperator.Size                  = UDim2.new(1, 0, 0, 28)

			local LineL = Instance.new("Frame")
			LineL.Parent           = Seperator
			LineL.BackgroundColor3 = _G.Third
			LineL.BorderSizePixel  = 0
			LineL.AnchorPoint      = Vector2.new(0, 0.5)
			LineL.Position         = UDim2.new(0, 10, 0.5, 0)
			LineL.Size             = UDim2.new(0.3, -8, 0, 1)
			LineL.BackgroundTransparency = 0.5

			local Sep2 = Instance.new("TextLabel")
			Sep2.Name                  = "Sep2"
			Sep2.Parent                = Seperator
			Sep2.BackgroundTransparency = 1
			Sep2.AnchorPoint           = Vector2.new(0.5, 0.5)
			Sep2.Position              = UDim2.new(0.5, 0, 0.5, 0)
			Sep2.Size                  = UDim2.new(0.4, 0, 1, 0)
			Sep2.Font                  = Enum.Font.GothamBold
			Sep2.Text                  = text
			Sep2.TextColor3            = _G.Third
			Sep2.TextSize              = 12
			Sep2.TextXAlignment        = Enum.TextXAlignment.Center

			local LineR = Instance.new("Frame")
			LineR.Parent           = Seperator
			LineR.BackgroundColor3 = _G.Third
			LineR.BorderSizePixel  = 0
			LineR.AnchorPoint      = Vector2.new(1, 0.5)
			LineR.Position         = UDim2.new(1, -10, 0.5, 0)
			LineR.Size             = UDim2.new(0.3, -8, 0, 1)
			LineR.BackgroundTransparency = 0.5
		end

		-- ─────────────────────────────────────────────────────────────────────
		function main:Line()
			local Linee = Instance.new("Frame")
			Linee.Name                  = "Linee"
			Linee.Parent                = MainFramePage
			Linee.BackgroundTransparency = 1
			Linee.Size                  = UDim2.new(1, 0, 0, 14)

			local Line = Instance.new("Frame")
			Line.Name             = "Line"
			Line.Parent           = Linee
			Line.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			Line.BorderSizePixel  = 0
			Line.AnchorPoint      = Vector2.new(0, 0.5)
			Line.Position         = UDim2.new(0, 0, 0.5, 0)
			Line.Size             = UDim2.new(1, 0, 0, 1)

			local UIGradient = Instance.new("UIGradient")
			UIGradient.Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0,   _G.Dark),
				ColorSequenceKeypoint.new(0.35, _G.Third),
				ColorSequenceKeypoint.new(0.5,  _G.Third),
				ColorSequenceKeypoint.new(0.65, _G.Third),
				ColorSequenceKeypoint.new(1,   _G.Dark),
			})
			UIGradient.Parent = Line
		end

		return main
	end

	return uitab
end

return Update
